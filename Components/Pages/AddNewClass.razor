@page "/classes/new"
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<PageTitle>Add New Class</PageTitle>

<h3>Add New Class</h3>

<EditForm Model="@artClass" OnValidSubmit="Save" OnInvalidSubmit="ShowSubmitError">
    <div class="parent-div">
        <div class="child-div">
            <label for="name">Name</label>
            <InputText id="name" @bind-Value="artClass!.Name" class="form-control"></InputText>
        </div>
        <div class="child-div" style="width:300px;">
            <label for="desc">Description</label>
            <InputText id="desc" @bind-Value="artClass.Description" class="form-control"></InputText>
        </div>
    </div>
    <br />
    <div class="parent-div">
        <div class="child-div">
            <label for="dateandtime">Starts</label>
            <InputDate id="dateandtime" Type="InputDateType.DateTimeLocal" @bind-Value="artClass.Start" class="form-control"></InputDate>
        </div>
        <div class="child-div">
            <label for="dateandtime">Ends</label>
            <InputDate id="dateandtime" Type="InputDateType.DateTimeLocal" @bind-Value="artClass.End" class="form-control"></InputDate>
        </div>
        <div class="child-div">
            <label for="cost">Cost($)</label>
            <InputNumber id="costpercustomer" @bind-Value="artClass.Cost" class="form-control"></InputNumber>
        </div>
    </div>
    <br />
    <div class="parent-div">
        <div class="child-div" style="border:1px groove purple">
            <label class="child-component">Instructor(s)</label>
            
        </div>
        <br />
        <div class="child-div" style="border:1px groove purple">
            <button class="btn btn-primary" @onclick="@(() => CreateNewAttendance())">Sign Up Artists</button>
        </div>
        <br />
        <div class="child-div" style="border:1px groove purple">
            <label class="child-component">Materials</label>
            
        </div>
    </div>
</EditForm>

@code {
    private ArtClass? artClass;

    private string newInstructorName = "";
    private string newMemberName = "";
    private string newCustomerName = "";

    [Parameter]
    public Guid ClassId { get; set; }

    protected override void OnInitialized()
    {
        artClass = new ArtClass();
    }

    private void Save()
    {

    }

    private void ShowSubmitError()
    {

    }

    private void CreateNewAttendance()
    {
        NavigationManager.NavigateTo("classes/attendance");
    }
}
